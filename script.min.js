function addNewNote(e=""){const t=document.createElement("div");t.classList.add("note"),t.innerHTML=`\n    <div class="tools">\n        <button class="edit">\n            <i class="fas fa-edit"></i>\n        </button>\n        <button class="delete">\n            <i class="fas fa-trash-alt"></i>\n        </button>\n    </div>\n    <div class="main ${e?"":"hidden"} "></div>\n    <textarea class=" ${e?"hidden":""} "></textarea>\n    `;const a=t.querySelector(".edit"),n=t.querySelector(".delete"),d=t.querySelector(".main"),o=t.querySelector("textarea");o.value=e,d.innerHTML=marked(e),n.addEventListener("click",()=>{t.remove(),updateLocalStroage()}),a.addEventListener("click",()=>{d.classList.toggle("hidden"),o.classList.toggle("hidden")}),o.addEventListener("input",e=>{const{value:t}=e.target;d.innerHTML=marked(t),updateLocalStroage()}),document.body.appendChild(t)}function updateLocalStroage(){const e=document.querySelectorAll("textarea"),t=[];e.forEach(e=>t.push(e.value)),localStorage.setItem("notes",JSON.stringify(t))}const addBtn=document.getElementById("add"),notes=JSON.parse(localStorage.getItem("notes"));notes&&notes.forEach(e=>addNewNote(e)),addBtn.addEventListener("click",()=>addNewNote());